/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild, Input, Inject, NgZone, ElementRef, ChangeDetectionStrategy } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { Platform } from '@angular/cdk/platform';
import { Directionality } from '@angular/cdk/bidi';
import { Subject } from 'rxjs';
import { NgScrollbar } from '../ng-scrollbar';
import { HorizontalScrollbarRef } from '../classes/horizontal-scrollbar-ref';
import { VerticalScrollbarRef } from '../classes/vertical-scrollbar-ref';
var ScrollbarControl = /** @class */ (function () {
    function ScrollbarControl(parent, platform, dir, zone, document) {
        this.parent = parent;
        this.platform = platform;
        this.dir = dir;
        this.zone = zone;
        this.document = document;
        // Stream that emits to unsubscribe from all streams
        this.destroyed = new Subject();
    }
    /**
     * @return {?}
     */
    ScrollbarControl.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.zone.runOutsideAngular((/**
         * @return {?}
         */
        function () {
            // Avoid SSR Error
            if (_this.platform.isBrowser) {
                _this.scrollbarRef = _this.track === 'vertical'
                    ? new VerticalScrollbarRef(_this.parent, _this.document, _this.trackRef, _this.thumbRef, _this.platform, _this.destroyed)
                    : new HorizontalScrollbarRef(_this.parent, _this.document, _this.trackRef, _this.thumbRef, _this.platform, _this.destroyed, _this.dir);
            }
        }));
    };
    /**
     * @return {?}
     */
    ScrollbarControl.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.destroyed.next();
        this.destroyed.complete();
    };
    ScrollbarControl.decorators = [
        { type: Component, args: [{
                    selector: 'scrollbar-control',
                    host: {
                        '[class.scrollbar-control]': 'true'
                    },
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    template: "\n    <div #track class=\"ng-scrollbar-track {{parent.trackClass}}\">\n      <div #thumb class=\"ng-scrollbar-thumb {{parent.thumbClass}}\"></div>\n    </div>\n  ",
                    styles: ["::ng-deep .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-track,::ng-deep .scrollbar-control{pointer-events:none}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:height 150ms ease-out,width 150ms ease-out}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}::ng-deep .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:height 150ms ease-out,width 150ms ease-out;cursor:default}::ng-deep .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:height 150ms ease-out,width 150ms ease-out}", "::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[track=horizontal]{height:var(--horizontal-scrollbar-total-size)}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[track=horizontal]>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[track=horizontal]>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}::ng-deep .ng-scrollbar-wrapper[horizontalDragging=true]>.scrollbar-control[track=horizontal] .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-wrapper[horizontalHovered=true]>.scrollbar-control[track=horizontal] .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}::ng-deep .ng-scrollbar-wrapper[position=invertAll]>.scrollbar-control[track=horizontal],::ng-deep .ng-scrollbar-wrapper[position=invertX]>.scrollbar-control[track=horizontal]{top:0;bottom:unset}::ng-deep .ng-scrollbar-wrapper[disabled=false]>.scrollbar-control[track=horizontal]{left:0;right:0;bottom:0;top:unset}::ng-deep .ng-scrollbar-wrapper[disabled=false][position=invertAll]>.scrollbar-control[track=horizontal],::ng-deep .ng-scrollbar-wrapper[disabled=false][position=invertX]>.scrollbar-control[track=horizontal]{top:0;bottom:unset}::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all][dir=ltr]>.scrollbar-control[track=horizontal][fit=true]{right:var(--scrollbar-total-size);left:0}::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all][dir=ltr][position=invertAll]>.scrollbar-control[track=horizontal][fit=true],::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all][dir=ltr][position=invertY]>.scrollbar-control[track=horizontal][fit=true]{left:var(--scrollbar-total-size);right:0}::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all][dir=rtl]>.scrollbar-control[track=horizontal][fit=true]{left:var(--scrollbar-total-size);right:0}::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all][dir=rtl][position=invertAll]>.scrollbar-control[track=horizontal][fit=true],::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all][dir=rtl][position=invertY]>.scrollbar-control[track=horizontal][fit=true]{right:var(--scrollbar-total-size);left:0}", "::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[track=vertical]{width:var(--vertical-scrollbar-total-size)}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[track=vertical]>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}::ng-deep .ng-scrollbar-wrapper>.scrollbar-control[track=vertical]>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}::ng-deep .ng-scrollbar-wrapper[verticalDragging=true]>.scrollbar-control[track=vertical] .ng-scrollbar-thumb,::ng-deep .ng-scrollbar-wrapper[verticalHovered=true]>.scrollbar-control[track=vertical] .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}::ng-deep .ng-scrollbar-wrapper[disabled=false]>.scrollbar-control[track=vertical]{top:0;bottom:0}::ng-deep .ng-scrollbar-wrapper[disabled=false][dir=ltr]>.scrollbar-control[track=vertical]{right:0;left:unset}::ng-deep .ng-scrollbar-wrapper[disabled=false][dir=ltr][position=invertAll]>.scrollbar-control[track=vertical],::ng-deep .ng-scrollbar-wrapper[disabled=false][dir=ltr][position=invertY]>.scrollbar-control[track=vertical]{left:0;right:unset}::ng-deep .ng-scrollbar-wrapper[disabled=false][dir=rtl]>.scrollbar-control[track=vertical]{left:0;right:unset}::ng-deep .ng-scrollbar-wrapper[disabled=false][dir=rtl][position=invertAll]>.scrollbar-control[track=vertical],::ng-deep .ng-scrollbar-wrapper[disabled=false][dir=rtl][position=invertY]>.scrollbar-control[track=vertical]{left:unset;right:0}::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all]>.scrollbar-control[track=vertical][fit=true]{bottom:var(--scrollbar-total-size);top:0}::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all][position=invertAll]>.scrollbar-control[track=vertical][fit=true],::ng-deep .ng-scrollbar-wrapper[disabled=false][track=all][position=invertX]>.scrollbar-control[track=vertical][fit=true]{top:var(--scrollbar-total-size);bottom:0}"]
                }] }
    ];
    /** @nocollapse */
    ScrollbarControl.ctorParameters = function () { return [
        { type: NgScrollbar },
        { type: Platform },
        { type: Directionality },
        { type: NgZone },
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
    ]; };
    ScrollbarControl.propDecorators = {
        track: [{ type: Input }],
        trackRef: [{ type: ViewChild, args: ['track', { static: true },] }],
        thumbRef: [{ type: ViewChild, args: ['thumb', { static: true },] }]
    };
    return ScrollbarControl;
}());
export { ScrollbarControl };
if (false) {
    /**
     * @type {?}
     * @private
     */
    ScrollbarControl.prototype.scrollbarRef;
    /**
     * @type {?}
     * @private
     */
    ScrollbarControl.prototype.track;
    /** @type {?} */
    ScrollbarControl.prototype.trackRef;
    /** @type {?} */
    ScrollbarControl.prototype.thumbRef;
    /**
     * @type {?}
     * @protected
     */
    ScrollbarControl.prototype.destroyed;
    /** @type {?} */
    ScrollbarControl.prototype.parent;
    /**
     * @type {?}
     * @private
     */
    ScrollbarControl.prototype.platform;
    /**
     * @type {?}
     * @private
     */
    ScrollbarControl.prototype.dir;
    /**
     * @type {?}
     * @private
     */
    ScrollbarControl.prototype.zone;
    /**
     * @type {?}
     * @private
     */
    ScrollbarControl.prototype.document;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nyb2xsYmFyLWNvbnRyb2wuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtc2Nyb2xsYmFyLyIsInNvdXJjZXMiOlsibGliL3Njcm9sbGJhci1jb250cm9sL3Njcm9sbGJhci1jb250cm9sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFxQixTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLHVCQUF1QixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BJLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDakQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDL0IsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRTlDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBQzdFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRXpFO0lBOEJFLDBCQUFtQixNQUFtQixFQUNsQixRQUFrQixFQUNsQixHQUFtQixFQUNuQixJQUFZLEVBQ00sUUFBYTtRQUpoQyxXQUFNLEdBQU4sTUFBTSxDQUFhO1FBQ2xCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFDbEIsUUFBRyxHQUFILEdBQUcsQ0FBZ0I7UUFDbkIsU0FBSSxHQUFKLElBQUksQ0FBUTtRQUNNLGFBQVEsR0FBUixRQUFRLENBQUs7O1FBTmhDLGNBQVMsR0FBRyxJQUFJLE9BQU8sRUFBUSxDQUFDO0lBT25ELENBQUM7Ozs7SUFFRCxtQ0FBUTs7O0lBQVI7UUFBQSxpQkFTQztRQVJDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCOzs7UUFBQztZQUMxQixrQkFBa0I7WUFDbEIsSUFBSSxLQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRTtnQkFDM0IsS0FBSSxDQUFDLFlBQVksR0FBRyxLQUFJLENBQUMsS0FBSyxLQUFLLFVBQVU7b0JBQzNDLENBQUMsQ0FBQyxJQUFJLG9CQUFvQixDQUFDLEtBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSSxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsUUFBUSxFQUFFLEtBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsU0FBUyxDQUFDO29CQUNuSCxDQUFDLENBQUMsSUFBSSxzQkFBc0IsQ0FBQyxLQUFJLENBQUMsTUFBTSxFQUFFLEtBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFFBQVEsRUFBRSxLQUFJLENBQUMsUUFBUSxFQUFFLEtBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLFNBQVMsRUFBRSxLQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDbkk7UUFDSCxDQUFDLEVBQUMsQ0FBQztJQUNMLENBQUM7Ozs7SUFFRCxzQ0FBVzs7O0lBQVg7UUFDRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDNUIsQ0FBQzs7Z0JBbkRGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsbUJBQW1CO29CQUM3QixJQUFJLEVBQUU7d0JBQ0osMkJBQTJCLEVBQUUsTUFBTTtxQkFDcEM7b0JBQ0QsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07b0JBRS9DLFFBQVEsRUFBRSxvS0FJVDs7aUJBQ0Y7Ozs7Z0JBakJRLFdBQVc7Z0JBSFgsUUFBUTtnQkFDUixjQUFjO2dCQUgwQyxNQUFNO2dEQTRDeEQsTUFBTSxTQUFDLFFBQVE7Ozt3QkFmM0IsS0FBSzsyQkFHTCxTQUFTLFNBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTsyQkFHbkMsU0FBUyxTQUFDLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7O0lBMkJ0Qyx1QkFBQztDQUFBLEFBcERELElBb0RDO1NBdkNZLGdCQUFnQjs7Ozs7O0lBRzNCLHdDQUFtQzs7Ozs7SUFHbkMsaUNBQWtEOztJQUdsRCxvQ0FBMkQ7O0lBRzNELG9DQUEyRDs7Ozs7SUFHM0QscUNBQW1EOztJQUV2QyxrQ0FBMEI7Ozs7O0lBQzFCLG9DQUEwQjs7Ozs7SUFDMUIsK0JBQTJCOzs7OztJQUMzQixnQ0FBb0I7Ozs7O0lBQ3BCLG9DQUF1QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBPbkRlc3Ryb3ksIFZpZXdDaGlsZCwgSW5wdXQsIEluamVjdCwgTmdab25lLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL3BsYXRmb3JtJztcclxuaW1wb3J0IHsgRGlyZWN0aW9uYWxpdHkgfSBmcm9tICdAYW5ndWxhci9jZGsvYmlkaSc7XHJcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgTmdTY3JvbGxiYXIgfSBmcm9tICcuLi9uZy1zY3JvbGxiYXInO1xyXG5pbXBvcnQgeyBTY3JvbGxiYXJSZWYgfSBmcm9tICcuLi9jbGFzc2VzL3Njcm9sbGJhci1yZWYnO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsU2Nyb2xsYmFyUmVmIH0gZnJvbSAnLi4vY2xhc3Nlcy9ob3Jpem9udGFsLXNjcm9sbGJhci1yZWYnO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbFNjcm9sbGJhclJlZiB9IGZyb20gJy4uL2NsYXNzZXMvdmVydGljYWwtc2Nyb2xsYmFyLXJlZic7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3Njcm9sbGJhci1jb250cm9sJyxcclxuICBob3N0OiB7XHJcbiAgICAnW2NsYXNzLnNjcm9sbGJhci1jb250cm9sXSc6ICd0cnVlJ1xyXG4gIH0sXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgc3R5bGVVcmxzOiBbJy4vc2hhcmVkLnNjc3MnLCAnLi9ob3Jpem9udGFsLnNjc3MnLCAnLi92ZXJ0aWNhbC5zY3NzJ10sXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxkaXYgI3RyYWNrIGNsYXNzPVwibmctc2Nyb2xsYmFyLXRyYWNrIHt7cGFyZW50LnRyYWNrQ2xhc3N9fVwiPlxyXG4gICAgICA8ZGl2ICN0aHVtYiBjbGFzcz1cIm5nLXNjcm9sbGJhci10aHVtYiB7e3BhcmVudC50aHVtYkNsYXNzfX1cIj48L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIFNjcm9sbGJhckNvbnRyb2wgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XHJcblxyXG4gIC8vIEN1c3RvbSBzY3JvbGxiYXIgcmVmZXJlbmNlXHJcbiAgcHJpdmF0ZSBzY3JvbGxiYXJSZWY6IFNjcm9sbGJhclJlZjtcclxuXHJcbiAgLy8gVGhlIGF4aXMgb2YgdGhlIHNjcm9sbGJhclxyXG4gIEBJbnB1dCgpIHByaXZhdGUgdHJhY2s6ICdob3Jpem9udGFsJyB8ICd2ZXJ0aWNhbCc7XHJcblxyXG4gIC8vIFNjcm9sbGJhciBjb250YWluZXIgZWxlbWVudCByZWZlcmVuY2VcclxuICBAVmlld0NoaWxkKCd0cmFjaycsIHsgc3RhdGljOiB0cnVlIH0pIHRyYWNrUmVmOiBFbGVtZW50UmVmO1xyXG5cclxuICAvLyBTY3JvbGxiYXIgdGh1bWIgZWxlbWVudCByZWZlcmVuY2VcclxuICBAVmlld0NoaWxkKCd0aHVtYicsIHsgc3RhdGljOiB0cnVlIH0pIHRodW1iUmVmOiBFbGVtZW50UmVmO1xyXG5cclxuICAvLyBTdHJlYW0gdGhhdCBlbWl0cyB0byB1bnN1YnNjcmliZSBmcm9tIGFsbCBzdHJlYW1zXHJcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGRlc3Ryb3llZCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJlbnQ6IE5nU2Nyb2xsYmFyLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgcGxhdGZvcm06IFBsYXRmb3JtLFxyXG4gICAgICAgICAgICAgIHByaXZhdGUgZGlyOiBEaXJlY3Rpb25hbGl0eSxcclxuICAgICAgICAgICAgICBwcml2YXRlIHpvbmU6IE5nWm9uZSxcclxuICAgICAgICAgICAgICBASW5qZWN0KERPQ1VNRU5UKSBwcml2YXRlIGRvY3VtZW50OiBhbnkpIHtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcclxuICAgICAgLy8gQXZvaWQgU1NSIEVycm9yXHJcbiAgICAgIGlmICh0aGlzLnBsYXRmb3JtLmlzQnJvd3Nlcikge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyUmVmID0gdGhpcy50cmFjayA9PT0gJ3ZlcnRpY2FsJ1xyXG4gICAgICAgICAgPyBuZXcgVmVydGljYWxTY3JvbGxiYXJSZWYodGhpcy5wYXJlbnQsIHRoaXMuZG9jdW1lbnQsIHRoaXMudHJhY2tSZWYsIHRoaXMudGh1bWJSZWYsIHRoaXMucGxhdGZvcm0sIHRoaXMuZGVzdHJveWVkKVxyXG4gICAgICAgICAgOiBuZXcgSG9yaXpvbnRhbFNjcm9sbGJhclJlZih0aGlzLnBhcmVudCwgdGhpcy5kb2N1bWVudCwgdGhpcy50cmFja1JlZiwgdGhpcy50aHVtYlJlZiwgdGhpcy5wbGF0Zm9ybSwgdGhpcy5kZXN0cm95ZWQsIHRoaXMuZGlyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpIHtcclxuICAgIHRoaXMuZGVzdHJveWVkLm5leHQoKTtcclxuICAgIHRoaXMuZGVzdHJveWVkLmNvbXBsZXRlKCk7XHJcbiAgfVxyXG59XHJcbiJdfQ==