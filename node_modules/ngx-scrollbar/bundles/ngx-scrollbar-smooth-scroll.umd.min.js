!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/coercion"),require("@angular/cdk/bidi"),require("@angular/cdk/platform"),require("rxjs"),require("rxjs/operators"),require("bezier-easing")):"function"==typeof define&&define.amd?define("ngx-scrollbar/smooth-scroll",["exports","@angular/core","@angular/common","@angular/cdk/coercion","@angular/cdk/bidi","@angular/cdk/platform","rxjs","rxjs/operators","bezier-easing"],e):e(((t=t||self)["ngx-scrollbar"]=t["ngx-scrollbar"]||{},t["ngx-scrollbar"]["smooth-scroll"]={}),t.ng.core,t.ng.common,t.ng.cdk.coercion,t.ng.cdk.bidi,t.ng.cdk.platform,t.rxjs,t.rxjs.operators,t.BezierEasing)}(this,function(t,e,r,o,n,i,l,s,c){"use strict";c=c&&c.hasOwnProperty("default")?c.default:c;var a=function(){return(a=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};var u=new e.InjectionToken("SMOOTH_SCROLL_OPTIONS");var p=function(){function t(t,e,r,o,n){this._zone=t,this._dir=e,this._document=r,this._platform=o,this._onGoingScrolls=new Map,this._defaultOptions=a({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},n)}return Object.defineProperty(t.prototype,"_w",{get:function(){return this._document.defaultView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_now",{get:function(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now},enumerable:!0,configurable:!0}),t.prototype._scrollElement=function(t,e,r){t.scrollLeft=e,t.scrollTop=r},t.prototype._getElement=function(t,e){return"string"==typeof t?(e||this._document).querySelector(t):o.coerceElement(t)},t.prototype._initSmoothScroll=function(t){return this._onGoingScrolls.has(t)&&this._onGoingScrolls.get(t).next(),this._onGoingScrolls.set(t,new l.Subject).get(t)},t.prototype._isFinished=function(t,e,r){return t.currentX!==t.x||t.currentY!==t.y||(e.next(),r(),!1)},t.prototype._interrupted=function(t,e){return l.merge(l.fromEvent(t,"wheel",{passive:!0,capture:!0}),l.fromEvent(t,"touchmove",{passive:!0,capture:!0}),e).pipe(s.take(1))},t.prototype._destroy=function(t,e){e.complete(),this._onGoingScrolls.delete(t)},t.prototype._step=function(t){var e=this;return new l.Observable(function(r){var o=(e._now()-t.startTime)/t.duration;o=o>1?1:o;var n=t.easing(o);t.currentX=t.startX+(t.x-t.startX)*n,t.currentY=t.startY+(t.y-t.startY)*n,e._scrollElement(t.scrollable,t.currentX,t.currentY),l.animationFrameScheduler.schedule(function(){return r.next(t)})})},t.prototype._applyScrollToOptions=function(t,e){var r=this;if(!e.duration)return this._scrollElement(t,e.left,e.top),Promise.resolve();var o=this._initSmoothScroll(t),n=e.easing||this._defaultOptions.easing,i={scrollable:t,startTime:this._now(),startX:t.scrollLeft,startY:t.scrollTop,x:null==e.left?t.scrollLeft:~~e.left,y:null==e.top?t.scrollTop:~~e.top,duration:e.duration||this._defaultOptions.duration,easing:c(n.x1,n.y1,n.x2,n.y2)};return new Promise(function(e){l.of(null).pipe(s.expand(function(){return r._step(i).pipe(s.takeWhile(function(t){return r._isFinished(t,o,e)}))}),s.takeUntil(r._interrupted(t,o)),s.finalize(function(){return r._destroy(t,o)})).subscribe()})},t.prototype.scrollTo=function(t,e){if(r.isPlatformBrowser(this._platform)){var o=this._getElement(t),n="rtl"===getComputedStyle(o).direction,l=i.getRtlScrollAxisType();return e.left=null==e.left?n?e.end:e.start:e.left,e.right=null==e.right?n?e.start:e.end:e.right,null!=e.bottom&&(e.top=o.scrollHeight-o.clientHeight-e.bottom),n&&l!==i.RtlScrollAxisType.NORMAL?(null!=e.left&&(e.right=o.scrollWidth-o.clientWidth-e.left),l===i.RtlScrollAxisType.INVERTED?e.left=e.right:l===i.RtlScrollAxisType.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=o.scrollWidth-o.clientWidth-e.right),this._applyScrollToOptions(o,e)}},t.prototype.scrollToElement=function(t,e,r){var o=this._getElement(t),n=this._getElement(e,o),i=r.duration,l=r.easing;return n?this.scrollTo(o,{left:n.offsetLeft+(r.left||0),top:n.offsetTop+(r.top||0),duration:i,easing:l}):new Promise(null)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:e.NgZone},{type:n.Directionality},{type:void 0,decorators:[{type:e.Inject,args:[r.DOCUMENT]}]},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[u]}]}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(e.NgZone),e.ɵɵinject(n.Directionality),e.ɵɵinject(r.DOCUMENT),e.ɵɵinject(e.PLATFORM_ID),e.ɵɵinject(u,8))},token:t,providedIn:"root"}),t}();var f=function(){function t(t,e){this.element=t,this.smoothScroll=e}return t.prototype.scrollTo=function(t){return this.smoothScroll.scrollTo(this.element,t)},t.prototype.scrollToElement=function(t,e){return this.smoothScroll.scrollToElement(this.element,t,e)},t.decorators=[{type:e.Directive,args:[{selector:"[smoothScroll], [smooth-scroll]",exportAs:"smoothScroll"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:p}]},t}();var h=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[f],exports:[f]}]}],t}();t.SMOOTH_SCROLL_OPTIONS=u,t.SmoothScroll=f,t.SmoothScrollManager=p,t.SmoothScrollModule=h,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-scrollbar-smooth-scroll.umd.min.js.map